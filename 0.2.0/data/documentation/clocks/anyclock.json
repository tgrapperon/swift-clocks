{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AnyClock"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Duration"},{"kind":"text","text":"> "},{"kind":"keyword","text":"where"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"DurationProtocol","preciseIdentifier":"s:s16DurationProtocolP"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"Hashable","preciseIdentifier":"s:SH"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This type provides a concrete alternative to "},{"type":"codeVoice","code":"any Clock<Duration>"},{"type":"text","text":" and makes it possible to"},{"type":"text","text":" "},{"type":"text","text":"pass clock existentials to APIs that would otherwise prohibit it."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, the "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/apple\/swift-async-algorithms"},{"type":"text","text":" provides"},{"type":"text","text":" "},{"type":"text","text":"a number of APIs that take clocks, but due to limitations in Swift, they cannot take a clock"},{"type":"text","text":" "},{"type":"text","text":"existential of the form "},{"type":"codeVoice","code":"any Clock"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["class Model: ObservableObject {","  let clock: any Clock<Duration>","  init(clock: any Clock<Duration>) {","    self.clock = clock","  }","","  func task() async {","    \/\/ ðŸ›‘ Type 'any Clock<Duration>' cannot conform to 'Clock'","    for await _ in stream.debounce(for: .seconds(1), clock: self.clock) {","      \/\/ ...","    }","  }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By using a concrete "},{"type":"codeVoice","code":"AnyClock"},{"type":"text","text":", instead, we can work around this limitation:"}]},{"type":"codeListing","syntax":"swift","code":["class Model: ObservableObject {","  let clock: any Clock<Duration>","  init(clock: any Clock<Duration>) {","    self.clock = clock","  }","","  func task() async {","    \/\/ âœ…","    for await _ in stream.debounce(for: .seconds(1), clock: AnyClock(self.clock)) {","      \/\/ ...","    }","  }","}"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/clocks\/anyclock"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/Clocks\/s8SendableP","doc:\/\/Clocks\/12_Concurrency5ClockP"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A type-erased clock."}],"kind":"symbol","metadata":{"navigatorTitle":[{"kind":"identifier","text":"AnyClock"}],"role":"symbol","title":"AnyClock","roleHeading":"Structure","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AnyClock"}],"symbolKind":"struct","externalID":"s:6Clocks8AnyClockV","modules":[{"name":"Clocks"}],"platforms":[{"beta":false,"unavailable":false,"name":"iOS","introducedAt":"16.0","deprecated":false},{"beta":false,"unavailable":false,"name":"macOS","introducedAt":"13.0","deprecated":false},{"beta":false,"unavailable":false,"name":"tvOS","introducedAt":"16.0","deprecated":false},{"beta":false,"unavailable":false,"name":"watchOS","introducedAt":"9.0","deprecated":false}]},"hierarchy":{"paths":[["doc:\/\/Clocks\/documentation\/Clocks"]]},"topicSections":[{"title":"Structures","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/Instant"]},{"title":"Initializers","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/init(_:)"]},{"title":"Instance Properties","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/minimumResolution","doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/now"]},{"title":"Instance Methods","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/sleep(until:tolerance:)"]},{"title":"Default Implementations","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/Clock-Implementations"],"generated":true}],"references":{"doc://Clocks/documentation/Clocks/AnyClock/minimumResolution":{"role":"symbol","title":"minimumResolution","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"minimumResolution"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyClock","preciseIdentifier":"s:6Clocks8AnyClockV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Instant","preciseIdentifier":"s:6Clocks8AnyClockV7InstantV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Duration"}],"abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/minimumResolution","kind":"symbol","type":"topic","url":"\/documentation\/clocks\/anyclock\/minimumresolution"},"doc://Clocks/documentation/Clocks/AnyClock/sleep(until:tolerance:)":{"role":"symbol","title":"sleep(until:tolerance:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"sleep"},{"kind":"text","text":"("},{"kind":"externalParam","text":"until"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyClock","preciseIdentifier":"s:6Clocks8AnyClockV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Instant","preciseIdentifier":"s:6Clocks8AnyClockV7InstantV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"tolerance"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyClock","preciseIdentifier":"s:6Clocks8AnyClockV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Instant","preciseIdentifier":"s:6Clocks8AnyClockV7InstantV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":"?) "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/sleep(until:tolerance:)","kind":"symbol","type":"topic","url":"\/documentation\/clocks\/anyclock\/sleep(until:tolerance:)"},"doc://Clocks/documentation/Clocks/AnyClock":{"role":"symbol","title":"AnyClock","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AnyClock"}],"abstract":[{"type":"text","text":"A type-erased clock."}],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"AnyClock"}],"url":"\/documentation\/clocks\/anyclock"},"doc://Clocks/documentation/Clocks/AnyClock/now":{"role":"symbol","title":"now","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"now"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyClock","preciseIdentifier":"s:6Clocks8AnyClockV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Instant","preciseIdentifier":"s:6Clocks8AnyClockV7InstantV"}],"abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/now","kind":"symbol","type":"topic","url":"\/documentation\/clocks\/anyclock\/now"},"doc://Clocks/documentation/Clocks/AnyClock/Clock-Implementations":{"role":"collectionGroup","title":"Clock Implementations","abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/Clock-Implementations","kind":"article","type":"topic","url":"\/documentation\/clocks\/anyclock\/clock-implementations"},"doc://Clocks/documentation/Clocks/AnyClock/Instant":{"role":"symbol","title":"AnyClock.Instant","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Instant"}],"abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/Instant","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Instant"}],"url":"\/documentation\/clocks\/anyclock\/instant"},"doc://Clocks/documentation/Clocks":{"role":"collection","title":"Clocks","abstract":[{"type":"text","text":"A few clocks that make working with Swift concurrency more testable and more versatile."}],"identifier":"doc:\/\/Clocks\/documentation\/Clocks","kind":"symbol","type":"topic","url":"\/documentation\/clocks"},"doc://Clocks/s8SendableP":{"type":"unresolvable","title":"Swift.Sendable","identifier":"doc:\/\/Clocks\/s8SendableP"},"doc://Clocks/12_Concurrency5ClockP":{"type":"unresolvable","title":"_Concurrency.Clock","identifier":"doc:\/\/Clocks\/12_Concurrency5ClockP"},"https://github.com/apple/swift-async-algorithms":{"title":"Async Algorithms","titleInlineContent":[{"type":"text","text":"Async Algorithms"}],"type":"link","identifier":"https:\/\/github.com\/apple\/swift-async-algorithms","url":"https:\/\/github.com\/apple\/swift-async-algorithms"},"doc://Clocks/documentation/Clocks/AnyClock/init(_:)":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"C"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"C"},{"kind":"text","text":")"}],"abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/AnyClock\/init(_:)","kind":"symbol","type":"topic","url":"\/documentation\/clocks\/anyclock\/init(_:)"}}}